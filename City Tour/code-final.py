import time

M = 15
N = 15
D = 9
H = [[107, 111, 103, 91, 108, 92, 93, 94, 98, 94, 101, 95, 99, 92, 102], [104, 117, 116, 95, 106, 99, 93, 103, 106, 96, 97, 99, 95, 103, 106], [101, 99, 123, 125, 119, 121, 126, 91, 102, 95, 96, 101, 94, 106, 91], [100, 92, 98, 93, 92, 106, 132, 103, 104, 98, 104, 95, 99, 92, 100], [100, 100, 98, 93, 94, 104, 126, 97, 93, 104, 101, 91, 96, 103, 98], [94, 105, 93, 97, 97, 93, 102, 107, 108, 105, 103, 93, 107, 105, 102], [108, 100, 95, 101, 99, 108, 104, 107, 105, 93, 92, 108, 106, 102, 98], [106, 103, 101, 99, 95, 108, 107, 103, 91, 104, 92, 91, 103, 99, 96], [93, 92, 105, 99, 106, 93, 105, 108, 94, 92, 95, 99, 108, 103, 91], [100, 97, 96, 102, 100, 95, 104, 99, 105, 102, 107, 108, 93, 95, 106], [93, 107, 106, 102, 104, 94, 103, 96, 104, 95, 103, 102, 93, 107, 104], [106, 106, 105, 101, 95, 95, 102, 91, 107, 91, 105, 96, 107, 104, 95], [100, 108, 94, 91, 107, 103, 104, 101, 94, 96, 102, 96, 94, 101, 95], [103, 101, 95, 93, 101, 104, 106, 94, 92, 96, 92, 97, 100, 100, 102], [108, 108, 91, 104, 102, 98, 107, 98, 99, 100, 102, 91, 92, 101, 108]]

array = [[0 for q in range(N)] for p in range(M)]
array[0][0] = 1

a = 0
b = 1
e = 0
while a != b: # -----> This is to see if there is any change from the previous scan
    a = b
    e += 1
    for i in range(M):
        for j in range(N):
            if array[i][j] == 1:
                if i + 1 < M:
                    if abs(H[i+1][j] - H[i][j]) < D:
                        array[i+1][j] = 1
                if j + 1 < N:
                    if abs(H[i][j+1] - H[i][j]) < D:
                        array[i][j+1] = 1
                if j - 1 >= 0:
                    if abs(H[i][j] - H[i][j-1]) < D:
                        array[i][j-1] = 1
                if i - 1 >= 0:
                    if abs(H[i][j] - H[i-1][j]) < D:
                        array[i-1][j] = 1
            print(i, j, e, sum(map(sum, array)))
    b = sum(map(sum, array))
print(sum(map(sum, array)))
